# Lock fee
CALL_METHOD
    Address("${account}")
    "lock_fee"
    Decimal("${amount}");

# Create proof from fungible owner badge
CALL_METHOD
    Address("${account}")
    "create_proof_of_amount"
    Address("${resource}")
    Decimal("${amount}");

# Withdraw tokens 
CALL_METHOD
  Address("${account}")
  "withdraw"
  Address("${resource}")
  Decimal("${amount}");

# Withdraw tokens from worktop and put them into bucket
TAKE_FROM_WORKTOP
  Address("${resource}")
  Decimal("${amount}")
  Bucket("${bucket_name}");

# Deposit tokens into method
CALL_METHOD
	Address("${component}")
	"deposit"
	Bucket("${bucket_name}");

# Return all tokens from worktop to account
CALL_METHOD
    Address("${account}")
    "try_deposit_batch_or_refund"
    Expression("ENTIRE_WORKTOP")
    Enum<0u8>();